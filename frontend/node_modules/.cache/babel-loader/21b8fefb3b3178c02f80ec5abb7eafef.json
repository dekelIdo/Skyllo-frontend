{"ast":null,"code":"import { userService } from '../services/user.service.js';\nconst initialState = {\n  // user: userService.getLoggedinUser(),\n  user: userService.getLoggedinUser() || null,\n  users: [],\n  watchedUser: userService.getLoggedinUser() || null\n};\nexport function userReducer(state = initialState, action) {\n  var newState = state;\n\n  switch (action.type) {\n    case 'INCREMENT':\n      newState = { ...state,\n        count: state.count + 1\n      };\n      break;\n\n    case 'DECREMENT':\n      newState = { ...state,\n        count: state.count - 1\n      };\n      break;\n\n    case 'CHANGE_COUNT':\n      newState = { ...state,\n        count: state.count + action.diff\n      };\n      break;\n\n    case 'SET_USER':\n      newState = { ...state,\n        user: action.user\n      };\n      break;\n\n    case 'SET_WATCHED_USER':\n      newState = { ...state,\n        watchedUser: action.user\n      };\n      break;\n\n    case 'REMOVE_USER':\n      newState = { ...state,\n        users: state.users.filter(user => user._id !== action.userId)\n      };\n      break;\n\n    case 'SET_USERS':\n      newState = { ...state,\n        users: action.users\n      };\n      break;\n\n    case 'SET_SCORE':\n      newState = { ...state,\n        user: { ...state.user,\n          score: action.score\n        }\n      };\n      break;\n\n    default:\n  } // For debug:\n  // window.userState = newState;\n  // console.log('State:', newState);\n\n\n  return newState;\n}","map":{"version":3,"sources":["C:/Users/אלדד/Desktop/Sprint4/frontend/src/store/user.reducer.js"],"names":["userService","initialState","user","getLoggedinUser","users","watchedUser","userReducer","state","action","newState","type","count","diff","filter","_id","userId","score"],"mappings":"AAAA,SAASA,WAAT,QAA4B,6BAA5B;AAGA,MAAMC,YAAY,GAAG;AACjB;AACAC,EAAAA,IAAI,EAAEF,WAAW,CAACG,eAAZ,MAAiC,IAFtB;AAGjBC,EAAAA,KAAK,EAAE,EAHU;AAIjBC,EAAAA,WAAW,EAAGL,WAAW,CAACG,eAAZ,MAAiC;AAJ9B,CAArB;AAOA,OAAO,SAASG,WAAT,CAAqBC,KAAK,GAAGN,YAA7B,EAA2CO,MAA3C,EAAmD;AACtD,MAAIC,QAAQ,GAAGF,KAAf;;AACA,UAAQC,MAAM,CAACE,IAAf;AACI,SAAK,WAAL;AACID,MAAAA,QAAQ,GAAG,EAAE,GAAGF,KAAL;AAAYI,QAAAA,KAAK,EAAEJ,KAAK,CAACI,KAAN,GAAc;AAAjC,OAAX;AACA;;AACJ,SAAK,WAAL;AACIF,MAAAA,QAAQ,GAAG,EAAE,GAAGF,KAAL;AAAYI,QAAAA,KAAK,EAAEJ,KAAK,CAACI,KAAN,GAAc;AAAjC,OAAX;AACA;;AACJ,SAAK,cAAL;AACIF,MAAAA,QAAQ,GAAG,EAAE,GAAGF,KAAL;AAAYI,QAAAA,KAAK,EAAEJ,KAAK,CAACI,KAAN,GAAcH,MAAM,CAACI;AAAxC,OAAX;AACA;;AACJ,SAAK,UAAL;AACIH,MAAAA,QAAQ,GAAG,EAAE,GAAGF,KAAL;AAAYL,QAAAA,IAAI,EAAEM,MAAM,CAACN;AAAzB,OAAX;AACA;;AACJ,SAAK,kBAAL;AACIO,MAAAA,QAAQ,GAAG,EAAE,GAAGF,KAAL;AAAYF,QAAAA,WAAW,EAAEG,MAAM,CAACN;AAAhC,OAAX;AACA;;AACJ,SAAK,aAAL;AACIO,MAAAA,QAAQ,GAAG,EACP,GAAGF,KADI;AAEPH,QAAAA,KAAK,EAAEG,KAAK,CAACH,KAAN,CAAYS,MAAZ,CAAmBX,IAAI,IAAIA,IAAI,CAACY,GAAL,KAAaN,MAAM,CAACO,MAA/C;AAFA,OAAX;AAIA;;AACJ,SAAK,WAAL;AACIN,MAAAA,QAAQ,GAAG,EAAE,GAAGF,KAAL;AAAYH,QAAAA,KAAK,EAAEI,MAAM,CAACJ;AAA1B,OAAX;AACA;;AACJ,SAAK,WAAL;AACIK,MAAAA,QAAQ,GAAG,EAAE,GAAGF,KAAL;AAAYL,QAAAA,IAAI,EAAE,EAAE,GAAGK,KAAK,CAACL,IAAX;AAAiBc,UAAAA,KAAK,EAAER,MAAM,CAACQ;AAA/B;AAAlB,OAAX;AACA;;AACJ;AA5BJ,GAFsD,CAgCtD;AACA;AACA;;;AACA,SAAOP,QAAP;AAEH","sourcesContent":["import { userService } from '../services/user.service.js'\r\n\r\n\r\nconst initialState = {\r\n    // user: userService.getLoggedinUser(),\r\n    user: userService.getLoggedinUser() || null,\r\n    users: [],\r\n    watchedUser : userService.getLoggedinUser() || null\r\n}\r\n\r\nexport function userReducer(state = initialState, action) {\r\n    var newState = state;\r\n    switch (action.type) {\r\n        case 'INCREMENT':\r\n            newState = { ...state, count: state.count + 1 }\r\n            break;\r\n        case 'DECREMENT':\r\n            newState = { ...state, count: state.count - 1 }\r\n            break;\r\n        case 'CHANGE_COUNT':\r\n            newState = { ...state, count: state.count + action.diff }\r\n            break;\r\n        case 'SET_USER':\r\n            newState = { ...state, user: action.user }\r\n            break;\r\n        case 'SET_WATCHED_USER':\r\n            newState = { ...state, watchedUser: action.user }\r\n            break;\r\n        case 'REMOVE_USER':\r\n            newState = {\r\n                ...state,\r\n                users: state.users.filter(user => user._id !== action.userId)\r\n            }\r\n            break;\r\n        case 'SET_USERS':\r\n            newState = { ...state, users: action.users }\r\n            break;\r\n        case 'SET_SCORE':\r\n            newState = { ...state, user: { ...state.user, score: action.score } }\r\n            break;\r\n        default:\r\n    }\r\n    // For debug:\r\n    // window.userState = newState;\r\n    // console.log('State:', newState);\r\n    return newState;\r\n\r\n}\r\n"]},"metadata":{},"sourceType":"module"}
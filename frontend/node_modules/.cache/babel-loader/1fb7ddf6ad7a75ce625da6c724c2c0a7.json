{"ast":null,"code":"import { userService } from \"../services/user.service.js\";\nimport { showErrorMsg } from '../services/event-bus.service.js';\nexport function loadUsers() {\n  return async dispatch => {\n    try {\n      dispatch({\n        type: 'LOADING_START'\n      });\n      const users = await userService.getUsers();\n      dispatch({\n        type: 'SET_USERS',\n        users\n      });\n    } catch (err) {\n      console.log('UserActions: err in loadUsers', err);\n    } finally {\n      dispatch({\n        type: 'LOADING_DONE'\n      });\n    }\n  };\n}\nexport function removeUser(userId) {\n  return async dispatch => {\n    try {\n      await userService.remove(userId);\n      dispatch({\n        type: 'REMOVE_USER',\n        userId\n      });\n    } catch (err) {\n      console.log('UserActions: err in removeUser', err);\n    }\n  };\n}\nexport function onLogin(credentials) {\n  console.log('credentials:', credentials);\n  return async dispatch => {\n    try {\n      const user = await userService.login(credentials);\n      dispatch({\n        type: 'SET_USER',\n        user\n      });\n    } catch (err) {\n      showErrorMsg('Cannot login');\n      console.log('Cannot login', err);\n    }\n  };\n}\nexport function onSignup(credentials) {\n  console.log('credentialsactionnnnn:', credentials);\n  return async dispatch => {\n    try {\n      const user = await userService.signup(credentials);\n      dispatch({\n        type: 'SET_USER',\n        user\n      });\n    } catch (err) {\n      showErrorMsg('Cannot signup');\n      console.log('Cannot signup', err);\n    }\n  };\n}\nexport function onLogout() {\n  return async dispatch => {\n    try {\n      await userService.logout();\n      dispatch({\n        type: 'SET_USER',\n        user: null\n      });\n    } catch (err) {\n      showErrorMsg('Cannot logout');\n      console.log('Cannot logout', err);\n    }\n  };\n}\nexport function loadUser(userId) {\n  return async dispatch => {\n    try {\n      const user = await userService.getById(userId);\n      dispatch({\n        type: 'SET_WATCHED_USER',\n        user\n      });\n    } catch (err) {\n      showErrorMsg('Cannot load user');\n      console.log('Cannot load user', err);\n    }\n  };\n}","map":{"version":3,"sources":["C:/Users/אלדד/Desktop/Sprint4/frontend/src/store/user.actions.js"],"names":["userService","showErrorMsg","loadUsers","dispatch","type","users","getUsers","err","console","log","removeUser","userId","remove","onLogin","credentials","user","login","onSignup","signup","onLogout","logout","loadUser","getById"],"mappings":"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","sourcesContent":["import { userService } from \"../services/user.service.js\";\r\nimport { showErrorMsg } from '../services/event-bus.service.js'\r\n\r\n\r\nexport function loadUsers() {\r\n    return async dispatch => {\r\n        try {\r\n            dispatch({ type: 'LOADING_START' })\r\n            const users = await userService.getUsers()\r\n            dispatch({ type: 'SET_USERS', users })\r\n        } catch (err) {\r\n            console.log('UserActions: err in loadUsers', err)\r\n        } finally {\r\n            dispatch({ type: 'LOADING_DONE' })\r\n        }\r\n    }\r\n}\r\n\r\nexport function removeUser(userId) {\r\n    return async dispatch => {\r\n        try {\r\n            await userService.remove(userId)\r\n            dispatch({ type: 'REMOVE_USER', userId })\r\n        } catch (err) {\r\n            console.log('UserActions: err in removeUser', err)\r\n        }\r\n    }\r\n}\r\n\r\nexport function onLogin(credentials) {\r\n    console.log('credentials:', credentials)\r\n    \r\n    return async (dispatch) => {\r\n        try {\r\n            const user = await userService.login(credentials)\r\n            dispatch({\r\n                type: 'SET_USER',\r\n                user\r\n            })\r\n        } catch (err) {\r\n            showErrorMsg('Cannot login')\r\n            console.log('Cannot login', err)\r\n        }\r\n    }\r\n}\r\n\r\nexport function onSignup(credentials) {\r\n    console.log('credentialsactionnnnn:', credentials)\r\n    \r\n    return async (dispatch) => {\r\n        try {\r\n            const user = await userService.signup(credentials)\r\n            dispatch({\r\n                type: 'SET_USER',\r\n                user\r\n            })\r\n        } catch (err) {\r\n            showErrorMsg('Cannot signup')\r\n            console.log('Cannot signup', err)\r\n        }\r\n\r\n    }\r\n}\r\n\r\nexport function onLogout() {\r\n    return async (dispatch) => {\r\n        try {\r\n            await userService.logout()\r\n            dispatch({\r\n                type: 'SET_USER',\r\n                user: null\r\n            })\r\n        } catch (err) {\r\n            showErrorMsg('Cannot logout')\r\n            console.log('Cannot logout', err)\r\n        }\r\n    }\r\n}\r\n\r\nexport function loadUser(userId) {\r\n    return async (dispatch) => {\r\n        try {\r\n            const user = await userService.getById(userId);\r\n            dispatch({ type: 'SET_WATCHED_USER', user })\r\n        } catch (err) {\r\n            showErrorMsg('Cannot load user')\r\n            console.log('Cannot load user', err)\r\n        }\r\n    }\r\n}\r\n\r\n"]},"metadata":{},"sourceType":"module"}
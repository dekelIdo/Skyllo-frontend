{"ast":null,"code":"const initialState = {\n  boards: [],\n  board: null\n};\nexport function boardReducer(state = initialState, action) {\n  var newState = state;\n  var boards;\n\n  switch (action.type) {\n    case 'SET_BOARDS':\n      newState = { ...state,\n        boards: action.boards\n      };\n      break;\n\n    case 'SET_BOARD':\n      newState = { ...state,\n        board: action.board\n      };\n      break;\n\n    case 'REMOVE_BOARD':\n      const lastRemovedBoard = state.boards.find(board => board._id === action.boardId);\n      boards = state.boards.filter(board => board._id !== action.boardId);\n      newState = { ...state,\n        boards,\n        lastRemovedBoard\n      };\n      break;\n\n    case 'ADD_BOARD':\n      newState = { ...state,\n        boards: [...state.boards, action.board]\n      };\n      break;\n\n    case 'UPDATE_BOARD':\n      newState = { ...state,\n        board: action.board\n      }; // console.log('newState.board:', newState.board)\n\n      break;\n\n    case 'UNDO_REMOVE_BOARD':\n      if (state.lastRemovedBoard) {\n        newState = { ...state,\n          boards: [...state.boards, state.lastRemovedBoard],\n          lastRemovedBoard: null\n        };\n      }\n\n      break;\n\n    default:\n      return newState;\n  } // For debug:\n\n\n  window.boardState = newState; // console.log('Prev State:', state)\n  // console.log('Action:', action)\n  // console.log('New State:', newState)\n\n  return newState;\n}","map":{"version":3,"sources":["C:/Users/Dekel/Desktop/Trellor/Sprint4/frontend/src/store/board.reducer.js"],"names":["initialState","boards","board","boardReducer","state","action","newState","type","lastRemovedBoard","find","_id","boardId","filter","window","boardState"],"mappings":"AAAA,MAAMA,YAAY,GAAG;AACjBC,EAAAA,MAAM,EAAE,EADS;AAEjBC,EAAAA,KAAK,EAAE;AAFU,CAArB;AAKA,OAAO,SAASC,YAAT,CAAsBC,KAAK,GAAGJ,YAA9B,EAA4CK,MAA5C,EAAoD;AACvD,MAAIC,QAAQ,GAAGF,KAAf;AACA,MAAIH,MAAJ;;AACA,UAAQI,MAAM,CAACE,IAAf;AACI,SAAK,YAAL;AACID,MAAAA,QAAQ,GAAG,EAAE,GAAGF,KAAL;AAAYH,QAAAA,MAAM,EAAEI,MAAM,CAACJ;AAA3B,OAAX;AACA;;AACJ,SAAK,WAAL;AACIK,MAAAA,QAAQ,GAAG,EAAE,GAAGF,KAAL;AAAYF,QAAAA,KAAK,EAAEG,MAAM,CAACH;AAA1B,OAAX;AACA;;AACJ,SAAK,cAAL;AACI,YAAMM,gBAAgB,GAAGJ,KAAK,CAACH,MAAN,CAAaQ,IAAb,CAAkBP,KAAK,IAAIA,KAAK,CAACQ,GAAN,KAAcL,MAAM,CAACM,OAAhD,CAAzB;AACAV,MAAAA,MAAM,GAAGG,KAAK,CAACH,MAAN,CAAaW,MAAb,CAAoBV,KAAK,IAAIA,KAAK,CAACQ,GAAN,KAAcL,MAAM,CAACM,OAAlD,CAAT;AACAL,MAAAA,QAAQ,GAAG,EAAE,GAAGF,KAAL;AAAYH,QAAAA,MAAZ;AAAoBO,QAAAA;AAApB,OAAX;AACA;;AACJ,SAAK,WAAL;AACIF,MAAAA,QAAQ,GAAG,EAAE,GAAGF,KAAL;AAAYH,QAAAA,MAAM,EAAE,CAAC,GAAGG,KAAK,CAACH,MAAV,EAAkBI,MAAM,CAACH,KAAzB;AAApB,OAAX;AACA;;AACJ,SAAK,cAAL;AACII,MAAAA,QAAQ,GAAG,EAAE,GAAGF,KAAL;AAAYF,QAAAA,KAAK,EAAEG,MAAM,CAACH;AAA1B,OAAX,CADJ,CAEI;;AAEA;;AACJ,SAAK,mBAAL;AACI,UAAIE,KAAK,CAACI,gBAAV,EAA4B;AACxBF,QAAAA,QAAQ,GAAG,EAAE,GAAGF,KAAL;AAAYH,UAAAA,MAAM,EAAE,CAAC,GAAGG,KAAK,CAACH,MAAV,EAAkBG,KAAK,CAACI,gBAAxB,CAApB;AAA+DA,UAAAA,gBAAgB,EAAE;AAAjF,SAAX;AACH;;AACD;;AACJ;AAAS,aAAOF,QAAP;AAzBb,GAHuD,CA+BvD;;;AACAO,EAAAA,MAAM,CAACC,UAAP,GAAoBR,QAApB,CAhCuD,CAiCvD;AACA;AACA;;AACA,SAAOA,QAAP;AACH","sourcesContent":["const initialState = {\r\n    boards: [],\r\n    board: null,\r\n}\r\n\r\nexport function boardReducer(state = initialState, action) {\r\n    var newState = state\r\n    var boards\r\n    switch (action.type) {\r\n        case 'SET_BOARDS':\r\n            newState = { ...state, boards: action.boards }\r\n            break\r\n        case 'SET_BOARD':\r\n            newState = { ...state, board: action.board }\r\n            break\r\n        case 'REMOVE_BOARD':\r\n            const lastRemovedBoard = state.boards.find(board => board._id === action.boardId)\r\n            boards = state.boards.filter(board => board._id !== action.boardId)\r\n            newState = { ...state, boards, lastRemovedBoard }\r\n            break\r\n        case 'ADD_BOARD':\r\n            newState = { ...state, boards: [...state.boards, action.board] }\r\n            break\r\n        case 'UPDATE_BOARD':            \r\n            newState = { ...state, board: action.board }\r\n            // console.log('newState.board:', newState.board)\r\n            \r\n            break\r\n        case 'UNDO_REMOVE_BOARD':\r\n            if (state.lastRemovedBoard) {\r\n                newState = { ...state, boards: [...state.boards, state.lastRemovedBoard], lastRemovedBoard: null }\r\n            }\r\n            break\r\n        default: return newState\r\n    }\r\n\r\n    // For debug:\r\n    window.boardState = newState\r\n    // console.log('Prev State:', state)\r\n    // console.log('Action:', action)\r\n    // console.log('New State:', newState)\r\n    return newState\r\n}\r\n"]},"metadata":{},"sourceType":"module"}